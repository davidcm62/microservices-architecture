version: "3.9"

services:
    api-gateway:
        build: ./gateway
        image: api-gateway
        ports:
            - 8080:8080
        links:
            - users-service
            - movies-service
            - microservice3
        command: java -jar /app.jar

    users-service:
        build: ./users-service
        image: users-service
        ports:
            - 5001:5001
        command: node index.js
        
    movies-service:
        build: ./movies-service
        image: movies-service
        ports:
            - 5002:5002
        command: node index.js
        
    microservice3:
        build: ./service-3
        image: microservice3
        ports:
            - 5003:5003
        command: node index.js